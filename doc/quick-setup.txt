
  i s t h m u s
  Quick Setup guide                                               2021.12.16

------------------------------------------------------------------------------

  Base setup

$ git clone https://github.com/lickx/isthmus.git 
$ cd isthmus/bin
$ ./setup

  (Follow instructions on screen)

  To install the simulator software, this can be done now:

$ ./rtinstall ~/Downloads/opensim-0.9.2.0.zip

------------------------------------------------------------------------------

  Database setup

  For now it is assumed you will be making a new database for each
  installation of Isthmus. The database will be shared among all regions.
  Each region will run in its own simulator instance, which is managed by
  GNU Screen.

  $ sudo mysql --user root --password
MariaDB [(none)]> create database isthmus_gridname;
MariaDB [(none)]> grant all on isthmus_gridname.* to isthmus_gridname@localhost identified by 'PASSWORD';

    Note: If you have multiple installations of isthmus and use Gloebit, you'll
  probably also want a seperate database for Gloebit usage to be shared by all
  isthmus installations. See the end of Gloebit.ini

  !! IMPORTANT
  The default 16M packet size is no longer enough for running OpenSim with sql.
  Edit your mariadb/mysql config to set it higher. In Ubuntu this is
  /etc/mysql/mariadb.conf.d/50-server.cnf:

  max_allowed_packet      = 32M

  !! IMPORTANT
  Sometimes the default charset causes problems if it is not set to utf8.
  Edit your mariadb/mysql config to set to 'utf8'. Do NOT set it to utfmb4
  because this will cause problems in creating tables. In Ubuntu the file
  to edit is /etc/mysql/mariadb.conf.d/50-server.cnf:

  character-set-server  = utf8
  collation-server      = utf8_general_ci

------------------------------------------------------------------------------

  Adding your first simulator

  If you chose 'microgrid' or 'microgrid-nohg' when using setup before,
  then now it is time to start robust. Else skip to the simadd bit.

./robust start

  Verify robust runs ok:

./robust status

  To stop robust:

./robust stop

  To create a new user manually, attach the main robust:

screen -r istgrid-99main

  ..and type the following in the robust console you're now in:

help create user

  Now type 'create user' and follow instructions. When done, detach the
  99main robust console by pressing <CTRL-A D>

  Now that we have a user, we can add the first sim. I suggest to call it
  'Welcome' if it is your own grid because robust will use that as the default
  region:

./simadd
(Follow instructions on screen)

  To start the newly made sim:

./simctl start Welcome

  Finally, login to the grid and see if everything runs ok.

------------------------------------------------------------------------------

  Command line commands

$ cd ~/isthmus/bin

  For a single simulator:

  Start:    ./simctl start SimName
  Stop:     ./simctl stop SimName
  Restart:  ./simctl restart SimName
  Status:   ./simctl status SimName

  If you don't give a SimName, it will do the action for all enabled sims.
  To see more options, type without parameters:   ./simctl

------------------------------------------------------------------------------

  Autobackup

  To setup autobackup, refer to etc/autobackup.ini

  You can store the OARs in any folder/mountpoint. For remote backups, specify
  a remote or cloud storage mountpoint such as your DropBox folder.

  However, we recommend instead of the autobackup module, to use a scheduled
  cronjob using simbackup. Refer to doc/crontab

------------------------------------------------------------------------------

  Optional modules

  To set up voice support provided by Vivox, refer to etc/voice.ini
  To set up Gloebit currency, refer to etc/addins/Gloebit.ini, this requires
  an additional module (.dll) to be installed.

------------------------------------------------------------------------------
